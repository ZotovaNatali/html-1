Краткая инструкция по работе с терминалом и домашками

# **НАЧАЛО РАБОТЫ С ПРОЕКТОМ**

**Клонируем репозиторий себе на компьютер.**

- если используете ssh ключ

  `git clone git@github.com:user/repo.git`

  или

  `git clone git@github.com:user/repo.git nameFolder`

- если используете https

  `git clone https://github.com/user/repo.git`

  или

  `git clone https://github.com/user/repo.git nameFolder`

  **git@github.com:user/repo.git и https://github.com/user/repo.git** это ссылки на ваш проект

  **nameFolder** – это название папки, в которую скопируется проект. Если название папки не указывать, то система создаст папку автоматически с названием **repo**

**Теперь переходим в папку самого проекта**

- если задавали имя папки для проекта (в нашем случае nameFolder)

  `cd nameFolder`

- если имя папки вы не задавали при команде git clone (в нашем случае это будет папка repo)
  `cd repo`

**Настроим папки для синхронизации репозиториев.** (репозиторий Академии, свой репозиторий и папка с проектом на компьютере.)

Что бы при синхронизации каждый раз не прописывать длинную ссылку на репозиторий Академии, можно ей присвоить какое-нибудь имя, для примера возьмем **academy**

- если клонировали проект по ssh-ключу, то прописываем ссылку ssh-ключа, если клонировали проект с помощью https то используем ссылку https

  `git remote add academy git@github.com:academy/repo.git`

  или

  `git remote add academy https://github.com/academy/repo.git`

  **git@github.com:user/repo.git и https://github.com/academy/repo.git -** это ссылки именно мастер-репозиторий Академии, а не вашего репозитория

  Что бы проверить все ли вы сделали правильно

  `git remote -v`

  В консоле должно показать (если использовали https)

  ```

    origin https://github.com/user/repo.git (fetch)
    origin https://github.com/user/repo.git (push)
    academy https://github.com/academy/repo.git (fetch)
    academy https://github.com/academy/repo.git (push)

  ```

Проверяем ссылки в **origin** должна быть ссылка на ваш репозиторий, а в **academy** – ссылка на репозиторий Академии. Если клонировали проект по ssh, то ссылки должны быть все вида **git@github.com:user/repo.git,** если клонировали проект по https, то ссылки должны быть вида **https://github.com/user/repo.git**

# **ВЫПОЛНЕНИЕ ДОМАШНЕГО ЗАДАНИЯ**

- Обязательно проверяем ветку в которой находитесь, если вы только приступаете к выполнению домашки, то нужно с начала создать ветку. Если вы продолжаете работу над домашкой, то просто переходим в ветку в которой вносили изменения.

- Если вы приступаете к выполнению новой домашки и находитесь в ветке НЕ master, то нужно прейти в ветку master и проверить, если в ней изменения с прошлой домашки, ЕСЛИ ИХ НЕТ, то переходим к пунктам 16-17. ЕСЛИ изменения ЕСТЬ, то переходим к пунктам 1-13

1. Что бы перейти в ветку

   `git checkout названиеВетки`

- если ветку еще не создавали то нужно добавить флаг b

  `git checkout -b названиеВетки`

- если при создании ветки вы ошиблись в написании ее названия, то меняем ее

  `git branch -m старое-имя-ветки новое-имя-ветки`

2. Вносим изменения в ветку ....

3. После того как внесли изменения в ветке, отправляем их в гит

   `git add -A`

4. Пишем коммит

   `git commit -m «Пишем название комета»`

5. Отправляем в сам Гит, находимся именно в той ветке, в которой делали изменения

   `git push origin названиеВетки`

6. Идем в браузер в Гит, ВИДИМ желтенькую плашку с зеленой кнопкой **«Compare & pull request»**, ЕСЛИ НЕ ВИДИМ, то идем именно в свой, а не академии, Жмем вкладку **Pull reqiest**, там жмем зеленую кнопку.

7. Пишем комментарий, проверяем изменения (внизу страницы)

8. Жмем зеленую кнопку **«Create pull request»**

9. Смотрим, что бы рядом с надписью **"This branch has no conflicts with the base branch"** была зеленая галочка. Если она красная, значит есть какие-то ошибки. Здесь появятся способы решения проблем

10. Идем в интенсив

11. Жмем кнопку **«Найти пулреквест»** и если все правильно было сделано, то появится ссылка на Пулреквест.

12. Так же сразу можно нажать кнопку **«Опубликовать»** и посмотреть как ваши изменения смотрятся на странице.

    (Иногда, что бы увидеть свой проект, нужно не много подождать. И обязательно чистить кэш, иначе не будет видно изменений)

13. Жмем кнопку **«Отправить на проверку»**. ЖДЕМ проверки.

14. Если при проверке я нашла какие-то ошибки, их нужно устранить и повторить пункты 2-5 и 9-13.

15. **ДОМАШКА ПРИНЯТА УРА!!!**

16. Переходим в ветку мастер

    `git checkout master`

17. Обновляем ветку мастер

    **academy** - это название репозитория академии, которое вы присвоили при синхронизации репозиторий. Проверить какие есть репозитории можно набрав команду

    `git remote -v`

    Итак, обновляем ветку мастер

    `git pull academy master`

    `git push origin master`

18. Приступаем к выполнению следующей домашке - повторяем пункты с 1-13

19. Если по какой-то причине вы сделали изменения не в той ветке и отправили коммит в гит.

    19.1. Копируем свой проект в соседнюю папку (на всякий случай)

    19.2. Переносим изменения из ветки, в которой вносили изменения, в нужную ветку. Например, мы забыли переключиться в нужную ветку module2-task1 и остались в ветке master и продолжили работу.

    `git merge module2-task1 master`

    Переходим в ветку module2-tack1

    `git checkout module2-task1`

    и проверяем перенеслись ли наши изменения.

    19.3. Теперь возвращаемся в ветку мастер и удаляем последний коммит. (Не забудьте закрыть пул реквест в гит)

    `git revert HEAD --no-edit`

20. Вы сделали несохраненные изменения (т.е. Еще не делали коммит и push), а потом поняли, что находитесь не в той ветке. Отложите эти изменения, а затем примените их к нужной ветке (Например, вы делали изменения в master, а нужно было в module2-task1):

    20.1. Первый вариант (вы уже создали ветку module2-task1)

    Находитесь в ветке master

    `git stash`

    `git checkout module2-task1`

    Находитесь в ветке module2-task1

    `git stash apply`

    20.2. Второй вариант (если новая ветка module2-task1 еще не создавалась) Находитесь в ветке master

    `git checkout -b module2-task1`

    Переходим в ветку master

    `git checkout master`

    Сбрасываем состояние ветки до последнего комета

    `git reset HEAD~ --hard`

    Переходим в ветку module2-task1 и продолжаем работать

    `git checkout module2-task1`

    Проверяем изменения в ветке module2-task1. Проверяем в ветке master, что изменений наших нет. Продолжаем работать в ветке module2-task1, закончили вносить изменения и повторяем с пункта 3
